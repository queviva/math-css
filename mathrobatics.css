@font-face {
    font-family : "Luckiest Guy";
    src : url(luckiest.ttf);
}

/*@import url('https://fonts.googleapis.com/css2?family=Luckiest%20Guy&display=swap');*/

* {
    box-sizing: border-box;
}

.mathrobatics {
    
    --holder-back: #111;
    
    --nose-hsla: hsla(40, 100%, 50%, 1);
    
    --nose-h: 40;
    --nose-s: 100%;
    --nose-l: 50%;
    --nose-a: 1;
                
    --whiteness: hsl(
        var(--nose-h),
        var(--nose-s),
        calc(1.5 * var(--nose-l))
    );
                
    --lightness: hsl(
        var(--nose-h),
        var(--nose-s),
        var(--nose-l)
    );
    
    --midness: hsl(
        var(--nose-h),
        calc(0.7 * var(--nose-s)),
        calc(0.65 * var(--nose-l))
    );
    
    --darkness: hsl(
        var(--nose-h),
        var(--nose-s),
        calc(0.45 * var(--nose-l))
    );
    
    --blackness: hsl(
        var(--nose-h),
        var(--nose-s),
        calc(0.20 * var(--nose-l))
    );
    
    --greyness: hsl(
        var(--nose-h),
        calc(0.1 * var(--nose-s)),
        calc(0.6 * var(--nose-l))
    );
    
    --inverse: hsl(
        calc(var(--nose-h) + 120),
        var(--nose-s),
        var(--nose-l)
    );
    
    --text-ghost:
        0 0 0px var(--holder-back),
        0 0 8px var(--lightness),
        0 0 12px #fff;
        
    --text-ghost-inverse:
        0 0 0px var(--holder-back),
        0 0 8px var(--inverse),
        0 0 12px #fff;
        
    --text-vapor:
        0 0 5px var(--holder-back),
        0 0 40px var(--lightness),
        0 0 40px #fff;
        
    --good-00: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='130px' height='130px' preserveAspectRatio='none' %3E%3Cpath d='M30 60L40 80Q63 45 100 15L110 10Q50 60 40 110Q23 95 15 80 Z'/%3E%3C/svg%3E");
    
    --frak-slash-00: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100px' height='100px' preserveAspectRatio='none' %3E%3Cpath d='M0 30L95 20L100 35L10 50Z'/%3E%3C/svg%3E");
    
    --dist-arc1: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100px' height='100px' preserveAspectRatio='none' %3E%3Cpath d='M0 100A10 20 0 0 1 100 100H92A10 20 0 0 0 0.5 100Z'/%3E%3C/svg%3E");
        
    --dist-arc2: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100px' height='100px' preserveAspectRatio='none' %3E%3Cpath d='M0 100A10 20 0 0 1 100 100H82A10 20 0 0 0 0.5 100Z'/%3E%3C/svg%3E");

    --dist-arc-double: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100px' height='100px' preserveAspectRatio='none' %3E%3Cpath d='M0 100A10 20 0 0 1 100 100H90A10 20 0 0 0 0.5 100ZM0 100A10 20 0 0 1 55 100H45A 10 20 0 0 0 0.5 100Z'/%3E%3C/svg%3E");
    
    --fakt-arc1: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100px' height='100px' preserveAspectRatio='none' %3E%3Cpath d='M0 100A10 20 0 0 1 100 100H99.5A10 20 0 0 0 8 100Z'/%3E%3C/svg%3E");
    
    --fakt-arc2: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100px' height='100px' preserveAspectRatio='none' %3E%3Cpath d='M0 100A10 20 0 0 1 100 100H99A10 20 0 0 0 16 100Z'/%3E%3C/svg%3E");
    
    --fakt-left-00: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100px' height='100px' preserveAspectRatio='none' %3E%3Cpath d='M0 100A10 20 0 0 1 100 100H99.5A10 20 0 0 0 8 100H0A10 30 0 0 1 44 100H43.5A10 31.5 0 0 0 8 100Z'/%3E%3C/svg%3E");
    
    --kwad-arc: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='100px' width='100px' %3E%3Cpath fill-rule='nonzero' d='M0 100A40 100 0 0 1 40 0L35 3A35 97 0 0 0 3 100ZM 100 100A40 100 0 0 0 60 0L65 3A35 97 0 0 1 97 100Z' fill='%23000' /%3E %3C/svg%3E");
    
    --powr-arc: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100px' height='100px' preserveAspectRatio='none' fill-rule='evenodd' %3E%3Cpath d='M100 30A100 300 340 0 0 0 55L4 55A100 300 340 0 1 100 30Z'/%3E%3C/svg%3E");
            
    --powr-dot: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100px' height='100px' preserveAspectRatio='none' %3E%3Cpath d='M 50 0A 50 50 0 0 0 50 100A 50 50 0 0 0 50 0Z'/%3E%3C/svg%3E");
        
    --logb-arc: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='100px' width='100px' %3E%3Cpath d='M100 50A10 10 0 0 0 0 50C0 100 52 95 50 70L44 63L35 68C34 85 8 80 8 50A10 10 0 0 1 100 55Z' fill='%23000' /%3E %3C/svg%3E");
    
    --logb-arc-old: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='100px' width='100px' %3E%3Cpath d='M100 35A100 320 355 0 1 0 65L12 53L28 60A100 600 0 0 0 100 28Z' fill='%23000' /%3E %3C/svg%3E");
    
    --logb-hat: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='100px' width='100px' fill-rule='evenodd' %3E%3Cpath d='M85 80A45 10 -10 0 0 15 80A45 10 -10 0 0 85 80ZM 75 80A40 8 -12 0 0 25 80A40 8 -12 0 0 75 80 Z' fill='%23000' /%3E %3Cpath d='M16 20Q45 -8 80 5Q75 40 78 70L76 70L76 55Q50 50 24 63L24 78Q50 70 21 78Q25 49 16 20Z' fill='%23000' /%3E %3C/svg%3E");
    
    --raze-arrow: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100px' height='100px' preserveAspectRatio='none'%3E%3Cpath d='M0 80Q40 40 50 0L100 80L80 90L50 20Q40 67 20 100Z' /%3E%3C/svg%3E");
    
    --cank-00: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100px' height='100px' preserveAspectRatio='none' %3E%3Cpath d='M0 94Q60 15 95 0L100 10Q60 20 10 100Z'/%3E%3C/svg%3E");
    
    --cank-01: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100px' height='100px' preserveAspectRatio='none' %3E%3Cpath d='M0 90Q55 55 90 0L100 8Q65 50 10 100Z'/%3E%3C/svg%3E");
    
    --cank-02: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100px' height='100px' preserveAspectRatio='none' %3E%3Cpath d='M0 100Q30 75 55 30L55 50Q30 80 0 100ZM 100 0Q70 25 50 70L50 50Q70 20 100 0Z'/%3E%3C/svg%3E");
    
    --cank-sigma-00: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100px' height='100px' preserveAspectRatio='none' %3E%3Cpath d='M0 20L100 0L40 50L80 70L0 100L50 70L20 50L80 10Z'/%3E%3C/svg%3E");
    
    --dist-full-00: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='130px' height='130px' preserveAspectRatio='none' %3E%3Cpath transform='translate(15,15)' d='M8 100A15 15 180 0 1 67 100H62A10 11 180 0 0 13 100H8A35 35 180 0 1 92 100H87A20 21 180 0 0 13 100ZM 33 100A15 15 180 0 1 92 100H87A20 22 180 0 0 38 100H33A17 17 180 0 1 67 100H62A10 12 180 0 0 38 100Z'/%3E%3C/svg%3E");

    --dist-right-XX: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='130px' height='130px' preserveAspectRatio='none' %3E%3Cpath d='M23 115A35 35 180 0 1 106 115H101A35 33 180 0 0 28 115H23A20 20 180 0 1 68 115H63A15 14 180 0 0 28 115Z'/%3E%3C/svg%3E");
    
    --dist-left-00: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='130px' height='130px' preserveAspectRatio='none' %3E%3Cpath d='M106 115A35 35 180 0 0 27 115H32A35 40 180 0 1 101 115H106A21 20 180 0 0 64 115H69A15 14 180 0 1 101 115 Z'/%3E%3C/svg%3E");
    
    --curl-00: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100px' height='100px' preserveAspectRatio='none' %3E%3Cpath d='M0 100 A10 55 0 0 1 10 45 H40 A10 45 0 0 0 50 0A10 45 0 0 0 60 45H90 A10 55 0 0 1 100 100A10 45 0 0 0 90 60 H60 A10 35 0 0 1 50 30 A10 35 0 0 1 40 60 H10 A10 45 0 0 0 0 100Z'/%3E%3C/svg%3E");
    
    --curl-01: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100px' height='100px' preserveAspectRatio='none' %3E%3Cpath d='M3 100 L0 0 Q50 20 100 0L97 100 L98 20 Q50 15 2 20Z'/%3E%3C/svg%3E");
        
    
     --cirk-00: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100px' height='100px' preserveAspectRatio='none' %3E%3Cpath d='M90 35A40 35 0 0 0 50 0A50 50 0 0 0 0 50A50 50 0 0 0 50 100A50 50 0 0 0 100 50A20 47 0 0 0 80 3A16 47 0 0 1 96 50A41 40 0 0 1 55 90A50 40 0 0 1 5 50A42 42 0 0 1 50 8A40 27 0 0 1 90 35Z'/%3E%3C/svg%3E");
    
    --cirk-01: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100px' height='100px' preserveAspectRatio='none' %3E%3Cpath d='M25 20A25 30 0 0 0 0 50A50 50 0 0 0 50 100A50 50 0 0 0 100 50A50 50 0 0 0 50 0C-8 2 10 45 15 45C5 20 20 8 50 8A45 42 0 0 1 95 50A45 40 0 0 1 50 90A48 45 0 0 1 2 48A28 28 0 0 1 30 20Z'/%3E%3C/svg%3E");
        
    --cirk-02: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100px' height='100px' preserveAspectRatio='none' fill-rule='evenodd' %3E%3Cpath d='M50 0A50 50 0 0 0 0 50A50 50 0 0 0 50 100A50 50 0 0 0 100 50A50 50 0 0 0 50 0ZM 20 20A33 30 330 0 0 82 80A33 30 330 0 0 20 20Z'/%3E%3C/svg%3E");
        
    --cirk-03: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100px' height='100px' preserveAspectRatio='none' %3E%3Cpath d='M5 20Q0 30 0 50A50 50 0 0 0 50 100A50 50 0 0 0 100 50A50 50 0 0 0 50 0C-8 2 10 45 15 45C5 20 20 8 50 8A45 42 0 0 1 95 50A45 40 0 0 1 50 90A48 45 0 0 1 2 45Q2 35 5 20Z'/%3E%3C/svg%3E");
    
    --cirk-xtra-swoosh: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100px' height='100px' preserveAspectRatio='none' fill-rule='evenodd' %3E%3Cpath d='M15 15A10 10 0 0 0 85 85A10 10 0 0 0 15 20A10 10 0 0 0 40 40A10 10 0 0 1 25 20A10 10 0 0 1 80 80A10 10 0 0 1 20 12Z'/%3E%3C/svg%3E");
            
    --ipow-arc: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='100px' width='100px' %3E%3Cpath d='M100 45A100 200 340 0 1 0 85L2 81L10 82A100 200 340 0 0 95 55Z' fill='%23000' /%3E %3C/svg%3E");
    
    --ipow-divline: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100px' height='100px' preserveAspectRatio='none' fill-rule='evenodd' %3E%3Cpath d='M0 30Q50 40 95 0L100 70Q50 60 10 100Z'/%3E%3C/svg%3E");
    
    --uv-table-rite: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100px' height='100px' preserveAspectRatio='none' %3E%3Cpath d='M30 80A10 15 0 0 1 100 60L90 60A10 16 0 0 0 31 80Z'/%3E%3C/svg%3E");
    
    --uv-table-left: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100px' height='100px' preserveAspectRatio='none' %3E%3Cpath d='M70 80A10 15 0 0 0 0 60L10 60A10 16 0 0 1 69 80Z'/%3E%3C/svg%3E");
    
    
	position: relative;
    color: var(--lightness);
    background-color: var(--holder-back);
    margin: auto;
    width: 100%;
    text-align: center;
    background-repeat: no-repeat;
    background-size: 100% 100%;
    
}

b {
    position: relative;
    font-weight: normal;
}
b[data-viva] { filter: url("#viva"); }
b[data-vers] { filter: url("#vers"); }
b[data-ghost] {
    color: rgba(0,0,0,0);
    text-shadow: var(--text-ghost);
}
b[data-vapor] {
    color: rgba(0,0,0,0);
    text-shadow: var(--text-vapor);
}
b[data-blank] { color: rgba(0,0,0,0); }
b[data-pren]::before,
b[data-prens]::before {
    content: '(';
}
b[data-pren]::after,
b[data-prens]::after {
    content: ')';
}
b[data-prens-viva]::before {
    content: '(';
    filter: url("#viva");
}
b[data-prens-viva]::after {
    content: ')';
    filter: url("#viva");
}
b[data-prens-ghost]::before {
    content: '(';
    color: rgba(0,0,0,0);
    text-shadow: var(--text-ghost);
}
b[data-prens-ghost]::after {
    content: ')';
    color: rgba(0,0,0,0);
    text-shadow: var(--text-ghost);
}
b[data-prens-vapor]::before {
    content: '(';
    color: rgba(0,0,0,0);
    text-shadow: var(--text-vapor);
}
b[data-prens-vapor]::after {
    content: ')';
    color: rgba(0,0,0,0);
    text-shadow: var(--text-vapor);
}

pre {
    background-color: var(--blackness);
    padding: 10px;
    text-align: left;
    color: var(--midness);
    overflow: auto;
}

v-iva { filter: url("#viva"); }
v-ers { filter: url("#vers"); }
i-ver { color: var(--inverse); }
g-ost {
    color: var(--holder-back);
    text-shadow: var(--text-ghost);
}
v-por {
    color: var(--holder-back);
    text-shadow: var(--text-vapor);
}
l-uck, [data-luck] {
    font-size: 0.8em;
    font-family: "Luckiest Guy";
}
l-uck[data-rot] {
    display: inline-block;
    transform: rotate(-10deg);
}
l-uck[data-viva] { filter: url("#lil-viva"); }
x-hsp { word-spacing: -0.3ch; }
/*[data-norm] { font-family: inherit; }*/


em {
    
    font-family: "Luckiest Guy";
    font-weight: bold;
    color: rgba(0,0,0,0);
    -webkit-text-stroke: 2px var(--greyness);
    
}
sup { font-size: 0.5em; vertical-align: 70%; }
sub { font-size: 0.5em; }
:not(r-oot) sup[data-viva],
:not(r-oot) sub[data-viva] { filter: url("#viva"); }
up-dn {
   display: inline-block;
   vertical-align: -0.4em;
   font-size: 0.5em;
   line-height: 1.2em;
   text-align: left;
}
up-dn[data-viva] { filter: url("#viva"); }

c-omm, r-ant {
    position: relative;
    display: inline-block;
    padding: 0px 10px;
    font-size: 0.5em;
    font-style: italic;
    text-align: justify;
    color: var(--greyness);
    margin: 50px 20px 30px 20px;
}
r-ant {
    width: 70%;
    font-size: 0.4em;
}
c-omm::before, r-ant::before {
    content: '';
    position: absolute;
    width: 5px;
    height: 100%;
    right: 100%;
    top: 0;
    border-width: 1.5px 0px 1.5px 3px;
    border-style: solid;
    border-color: var(--greyness);
}
c-omm::after, r-ant::after {
    content: '';
    position: absolute;
    width: 5px;
    height: 100%;
    left: 100%;
    top: 0;
    border-width: 1.5px 3px 1.5px 0px;
    border-style: solid;
    border-color: var(--greyness);
}
c-omm > b {
    position: absolute;
    display: inline-block;
    width: calc(100% - 10px);
    right: 0%;
    top: 100%;
    padding: 20px;
    font-size: 0.5em;
    text-align: justify;
    color: var(--greyness);
    background-color: var(--holder-back);
    border-left: 1px solid var(--greyness);
    opacity: 0;
    z-index: 10;
    max-height: 10em;
    overflow-y: auto;
    transition: opacity ease-in 600ms;
    pointer-events: none;
}
c-omm:hover b {
    opacity: 0.85;
    transition: opacity ease-out 400ms;
    pointer-events: auto;
}
c-omm em { font-style: normal; }

f-rak {
    --frak-top: calc(50% - 1px);
    --frak-wide: 100%;
    --slash-top: calc(50% - 6px);
    position: relative;
    display: inline-grid;
    grid-template-columns: 1fr;
    grid-template-rows: 1fr 1fr;
    padding: 0 0.5ch;
    font-size: 0.6em;
    vertical-align: 68%;
    text-align: center;
    word-spacing: -0.4ch;
}
f-rak::before {
    content: '';
    position: absolute;
    height: var(--frak-top);
    width: 100%;
    border-bottom: 1px solid;
}
f-rak[data-slash]::before {
    content: '';
    position: absolute;
    height: 15px;
    width: var(--frak-wide);
    top: var(--slash-top);
    left: calc((100-var(--frak-wide))/2);
    transform: rotate(-5deg);
    border: none;
    background-repeat: no-repeat;
    background-size: 100% 100%;
    background-image: var(--frak-slash-00);
    filter: url("#lightness");
    border: none;
}
f-rak[data-wide] { --frak-wide: 200%; }
f-rak[data-slash][data-viva]::before {
    width: calc(var(--frak-wide) + 20%);
    left: calc((100% - (var(--frak-wide) + 20%))/2);
    filter: url("#viva");
}
f-rak[data-slash][data-viva-all]::before {
    width: calc(var(--frak-wide) + 20%);
    left: calc((100% - (var(--frak-wide) + 20%))/2);
}
f-rak[data-viva]:not([data-slash])::before {
    border-bottom: 1.3px solid;
    filter: url("#viva");
}
f-rak[data-viva-all] { filter: url("#viva"); }
f-rak[data-ghost]::before { filter: url("#outline"); }
f-rak[data-ghost-all] { filter: url("#outline"); }
f-rak[data-ghost-all]::before { border-bottom: 3px solid; }
f-rak[data-vapor]::before {
    filter: url("#vapor");
}
f-rak[data-vapor]:not([data-slash])::before {
    border-bottom: 3px solid;
}
f-rak[data-vapor-all] { filter: url("#vapor"); }
f-rak[data-vapor-all]:not([data-slash])::before {
    border-bottom: 3px solid
};

p-rens, p-ren { word-spacing: -0.3ch; }
p-rens::before,
p-ren::before { content: '('; }
p-rens::after,
p-ren::after { content: ')'; }
p-rens[data-viva]::before,
p-ren[data-viva]::before,
p-rens[data-viva]::after,
p-ren[data-viva]::after { filter: url("#viva"); }
p-rens[data-viva-all],
p-ren[data-viva-all] { filter: url("#viva"); }
p-rens[data-ghost]::before,
p-ren[data-ghost]::before,
p-rens[data-ghost]::after,
p-ren[data-ghost]::after {
    color: rgba(0,0,0,0);
    text-shadow: var(--text-ghost);
}
p-rens[data-ghost-all],
p-ren[data-ghost-all] {
    color: rgba(0,0,0,0);
    text-shadow: var(--text-ghost);
}
p-rens[data-vapor]::before,
p-ren[data-vapor]::before,
p-rens[data-vapor]::after,
p-ren[data-vapor]::after {
    color: rgba(0,0,0,0);
    text-shadow: var(--text-vapor);
}
p-rens[data-vapor-all],
p-ren[data-vapor-all] {
    filter: url("#vapor");
}

b-rak {
    --brak-filter: none;
    --brak-scale: 2;
    position: relative;
    display: inline-block;
    margin-left: 0.5em;
    margin-right: 0.5em;
    filter: var(--brak-filter);
}
b-rak::before {
    content: '\005b';
    position: absolute;
    top: 0;
    left: -0.5em;
    transform: scale(1, var(--brak-scale));
}
b-rak::after {
    content: '\005d';
    position: absolute;
    top: 0;
    right: -0.5em;
    transform: scale(1, var(--brak-scale));
}
b-rak[data-viva]::before,
b-rak[data-viva]::after { filter: url("#viva"); }
b-rak[data-viva-all] { --brak-filter: url("#viva"); }
b-rak[data-ghost]::before,
b-rak[data-ghost]::after {
    color: rgba(0,0,0,0);
    text-shadow: var(--text-ghost);
}
b-rak[data-ghost-all] {
    --brak-filter: url("#ghost");
}
b-rak[data-vapor]::before,
b-rak[data-vapor]::after {
    color: rgba(0,0,0,0);
    text-shadow: var(--text-vapor);
}
b-rak[data-vapor-all] { --brak-filter: url("#vapor"); }
b-rak[data-norm] { --brak-scale: 1; }
b-rak[data-norm] + sup { --brak-scale: 1; }
b-rak[data-tall] { --brak-scale: 3; }
b-rak[data-tall] + sup { --brak-scale: 3; }
b-rak + sup {
    --brak-scale: 2;
    vertical-align: calc(100% * var(--brak-scale));
}

    
c-url {
    --curl-wide: calc(100% + 0.5ch);
    --curl-high: 30px;
    --curl-top: 5px;
    --curl-left: 0px;
    --curl-rot: 0deg;
    --curl-shape: var(--curl-00);
    --curl-filter: url("#viva");
    position: relative;
}
c-url::before {
    content: '';
    position: absolute;
    width: var(--curl-wide);
    aspect-ratio: 8 / 1;
    xheight: var(--curl-high);
    left: calc((100% - var(--curl-wide))/2 + var(--curl-left));
    bottom: calc(100% - var(--curl-top));
    transform: rotate(var(--curl-rot));
    background-repeat: no-repeat;
    background-size: 100% 100%;
    background-image: var(--curl-shape);
    filter: var(--curl-filter);
}
c-url[data-lo]::before {
    top: calc(100% - var(--curl-top));
    transform: rotate(calc(180deg + var(--curl-rot)));
}
c-url[data-dark] { --curl-filter: url("#lightness"); }
c-url[data-ghost] { --curl-filter: url("#ghost"); }
c-url[data-vapor] { --curl-filter: url("#vapor"); }
c-url[data-opt1] {
    --curl-wide: calc(100% + 1ch);
    --curl-top: 3px;
    --curl-shape: var(--curl-01);
}


s-umm {
    --summ-filter-sigma: none;
    --summ-filter-from: none;
    --summ-filter-to: none;
    position: relative;
}
s-umm::before {
    content: '\2211';
    font-size: 1.4em;
    font-weight: bold;
    filter: var(--summ-filter-sigma);
}
s-umm > :nth-child(2) {
    position: absolute;
    font-size: 0.4em;
    top: calc(100% + 0.2em);
    left: 0;
    filter: var(--summ-filter-from);
}
s-umm > :nth-child(3) {
    position: absolute;
    font-size: 0.4em;
    bottom: calc(100% + 0.2em);
    left: 0;
    filter: var(--summ-filter-to);
}
s-umm[data-viva] {
    --summ-filter-sigma: url("#viva");
    --summ-filter-from: url("#viva");
    --summ-filter-to: url("#viva");
}
s-umm[data-viva-sigma] { --summ-filter-sigma: url("#viva"); }
s-umm[data-viva-from] { --summ-filter-from: url("#viva"); }
s-umm[data-viva-to] { --summ-filter-to: url("#viva"); }
s-umm[data-ghost] {
    --summ-filter-sigma: url("#outline");
    --summ-filter-from: url("#outline");
    --summ-filter-to: url("#outline");
}
s-umm[data-scrib]::after {
    content: '';
    position: absolute;
    height: 1.4em;
    width: 1em;
    padding: 20px 8px;
    left: -8px;
    top: -30px;
    background-image: var(--cank-sigma-00);
    background-repeat: no-repeat;
    background-size: 100% 100%;
    filter: url("#viva");
}


e-val {
    --eval-filter: none;
    --eval-filter-from: none;
    --eval-filter-to: none;
    position: relative;
    xdisplay: inline-block;
    margin: 2em  0.5em;
}
e-val::before {
    content: '\005b';
    position: absolute;
    left: -0.5em;
    top: 0;
    font-size: 1em;
    transform:scale(1,2.0);
    filter: var(--eval-filter);
}
e-val::after {
    content: '\005d';
    position: absolute;
    left: 100%;
    top: 0;
    font-size: 1em;
    transform:scale(1,2.0);
    filter: var(--eval-filter);
}
e-val > b:nth-of-type(1) {
    position: absolute;
    font-size: 0.4em;
    top: calc(100% + 1.3em);
    left: 100%;
    filter: var(--eval-filter-from);
}
e-val > b:nth-of-type(2) {
    position: absolute;
    font-size: 0.4em;
    bottom: calc(100% + 0.5em);
    left: 100%;
    filter: var(--eval-filter-to);
}
e-val[data-viva] {
    --eval-filter: url("#viva");
    --eval-filter-from: url("#viva");
    --eval-filter-to: url("#viva");
}
e-val[data-viva-from] { --eval-filter-from: url("#viva"); }
e-val[data-viva-to] { --eval-filter-to: url("#viva"); }


w-ear {
    --wear-filter-bar: none;
    --wear-filter-from: none;
    --wear-filter-to: none;
    position: relative;
    display: inline-flex;
    flex-flow: column nowrap;
    justify-content: center;
    align-items: flex-start;
    vertical-align: middle;
    margin-left: 1em;
    padding-left: 0.5ch;
    height: calc(1.5 * 2.5em);
    font-size: 0.4em;
    text-align: left;
    filter: var(--wear-filter-bar);
    overflow: visible;
    border-left: 0.2ch solid;
}
w-ear > f-rom:nth-of-type(1) {
    position: absolute;
    font-size: 0.8em;
    top: 100%;
    left: -1.75ch;
    font-weight: bold;
    filter: var(--wear-filter-from);
}
w-ear > t-o:nth-of-type(1) {
    position: absolute;
    font-size: 0.8em;
    bottom: 100%;
    left: -1.75ch;
    font-weight: bold;
    filter: var(--wear-filter-to);
}
w-ear[data-viva] {
    filter: url("#viva");
}
w-ear[data-viva-from] { --wear-filter-from: url("#viva"); }
w-ear[data-viva-to] { --wear-filter-to: url("#viva"); }
w-ear[data-ghost] {
    color: rgba(0,0,0,0);
    text-shadow: var(--text-ghost);
}
w-ear[data-vapor] { filter: url("#vapor"); }

a-rea, v-olm {
    --letter: '\1d468';
    --varval: var(--letter);
    --formula: none;
    --icon: none;
    --icon-filter: url("#lightness");
    --icon-rot: 0deg;
    --icon-scale: 1, 1;
    display: inline-block;
    position: relative;
    margin-right: -0.5ch;
    margin-top: -1.25ch;
}
v-olm { --letter: '\1d47d'; margin-right: -0.7ch; }
a-rea {
    --cirk-formula: '\1d745\00a0r\00b2';
    --cirk-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100px' height='100px' preserveAspectRatio='none' %3E%3Cpath transform='scale(1 0.8) rotate(-90)' transform-origin='50 50' d='M90 35A40 35 0 0 0 50 0A50 50 0 0 0 0 50A50 50 0 0 0 50 100A50 50 0 0 0 100 50A20 47 0 0 0 80 3A16 47 0 0 1 96 50A41 40 0 0 1 55 90A50 40 0 0 1 5 50A42 42 0 0 1 50 8A40 27 0 0 1 90 35Z'/%3E%3Cellipse cx='50' cy='50' rx='3' ry='3'/%3E%3C/svg%3E");
    --tri-formula: '\00bd\00a0\1d44f\00b7\210e';
    --tri-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100px' height='100px' preserveAspectRatio='none' %3E%3Cpath d='M3 70L45 0L100 70L10 80L30 40L17 74L95 68L45 8L0 80Z'/%3E%3Cellipse cx='50' cy='50' rx='3' ry='3'/%3E%3C/svg%3E");
    --tri-icon-right: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100px' height='100px' preserveAspectRatio='none' %3E%3Cpath d='M3 80 Q50 55 98 10 L98 80 L10 80Q30 78 55 60 Q30 80 27 77L 94 77L 94 20 Q45 65 10 78Z M84 79 v-12h12v2h-10v10Z'/%3E%3Cellipse cx='70' cy='57' rx='3' ry='3'/%3E%3C/svg%3E");
    --tri-icon-scalene: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100px' height='100px' preserveAspectRatio='none' %3E%3Cpath d='M3 80 Q50 55 98 10 L78 80 L10 80Q30 73 40 67 L25 77L 74 77L 91 22 Q45 65 10 78Z'/%3E%3Cellipse cx='65' cy='57' rx='3' ry='3'/%3E%3C/svg%3E");
    --rect-formula: '\1d464\00b7\210e';
    --rect-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100px' height='100px' preserveAspectRatio='none' %3E%3Cpath d='M0 80Q10 50 0 20L100 20Q90 50 100 80Q50 70 10 80L15 20L13 75Q50 70 90 74L88 25L10 25L8 75Z'/%3E%3Cellipse cx='50' cy='50' rx='3' ry='3'/%3E%3C/svg%3E");
    --square-formula: 's\00b2';
    --square-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100px' height='100px' preserveAspectRatio='none' %3E%3Cpath transform='scale(0.7 1)' transform-origin='50 50' d='M0 80Q10 50 0 20L100 20Q90 50 100 80Q50 70 10 80L15 20L13 75Q50 70 90 74L88 25L10 25L8 75Z'/%3E%3Cellipse cx='50' cy='50' rx='3' ry='3'/%3E%3C/svg%3E");
    --trap-formula: '\00bd(\1d44e+\1d44f)\00b7\210e';
    --trap-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100px' height='100px' preserveAspectRatio='none' %3E%3Cpath d='M0 80Q17 50 17 20L83 20Q84 50 100 80Q50 70 10 80L25 28L17 73Q50 70 90 74L78 25L22 25L8 75Z'/%3E%3Cellipse cx='50' cy='50' rx='3' ry='3'/%3E%3C/svg%3E");
    --para-formula: '\1d44f\210e';
    --para-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100px' height='100px' preserveAspectRatio='none' %3E%3Cpath d='M0 80Q17 50 20 20L100 20Q82 50 80 80Q50 70 10 80L25 28L17 73Q50 70 78 74L90 25L24 25L8 75Z'/%3E%3Cellipse cx='50' cy='50' rx='3' ry='3'/%3E%3C/svg%3E");
    --lips-formula: '\03c0\00b7\1d44e\00b7\1d44f';
    --lips-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100px' height='100px' preserveAspectRatio='none' %3E%3Cpath transform='scale(1 0.5) rotate(90)' transform-origin='50 50' d='M90 35A40 35 0 0 0 50 0A50 50 0 0 0 0 50A50 50 0 0 0 50 100A50 50 0 0 0 100 50A20 47 0 0 0 80 3A16 47 0 0 1 96 50A41 40 0 0 1 55 90A50 40 0 0 1 5 50A42 42 0 0 1 50 8A40 27 0 0 1 90 35Z'/%3E%3Cellipse cx='50' cy='50' rx='3' ry='3'/%3E%3C/svg%3E");
}
v-olm {
    --sphere-formula: '4/3\1d745\00b7\1d45f\00b3';
    --sphere-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100px' height='100px' preserveAspectRatio='none' fill-rule='evenodd' %3E%3Cpath d='M50 0A50 50 0 0 0 50 100A50 50 0 0 0 50 0ZM15 22A33 33 0 0 0 82 82A33 33 0 0 0 15 22Z'/%3E%3Cpath fill-rule='nonzero' d='M60 10 A50 50 0 0 0 15 60 A30 33 0 0 0 45 96 A30 33 0 0 1 18 60 A50 50 0 0 1 60 10 Z M2 52 A50 40 -20 0 0 90 52 A50 40 -10 0 1 2 50Z'/%3E%3C/svg%3E");
    
    --cube-formula: '\1d460\00b3';
    --cube-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100px' height='100px' preserveAspectRatio='none' %3E%3Cpath d='M0 24Q5 42 2 75L50 100L100 75Q95 50 100 20L50 0Q25 14 0 20Q25 26 48 40L50 85L52 40L83 26L50 37Q28 26 10 20L50 5L95 21L94 73L50 95L5 74L4 30Z'/%3E%3Cellipse cx='50' cy='20' rx='6' ry='2.8'/%3E%3C/svg%3E");
    
    --cone-formula: '\2153\1d745\00b7\1d45f\00b2\00b7\210e';
    --cone-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100px' height='100px' preserveAspectRatio='none' %3E%3Cpath d='M0 24 Q42 70 50 100 Q60 70 100 20A 50 20 0 0 0 0 20 A50 20 0 0 0 80 30 A50 20 0 0 1 8 18A 44 20 0 0 1 94 20 Q58 70 50 90Q 42 70 10 30Z'/%3E%3Cellipse cx='50' cy='18' rx='6' ry='2.5'/%3E%3C/svg%3E");
    
    --box-formula: '\1d459\00b7\1d464\00b7\210e';
    --box-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100px' height='100px' preserveAspectRatio='none' %3E%3Cpath transform='scale(1 0.8)' transform-origin='50 50' d='M0 24Q5 42 2 75L50 100L100 75Q95 50 100 20L50 0Q25 14 0 20Q25 26 48 40L50 85L52 40L83 26L50 37Q28 26 10 20L50 5L95 21L94 73L50 95L5 74L4 30Z'/%3E%3Cellipse cx='50' cy='26' rx='6' ry='2.5'/%3E%3C/svg%3E");
    
    --cyl-formula: '\1d745\00b7\1d45f\00b2\00b7\210e';
    --cyl-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100px' height='100px' preserveAspectRatio='none' %3E%3Cpath d='M0 24 Q3 48 0 80 A50 20 0 0 0 100 80 Q90 50 100 20 A50 20 0 0 0 0 20 A50 20 0 0 0 80 30 A50 20 0 0 1 8 18A 44 20 0 0 1 94 20 Q90 50 93 80 A45 20 0 0 1 4 80 Q8 54 5 30Z'/%3E%3Cellipse cx='50' cy='18' rx='6' ry='2.5'/%3E%3C/svg%3E");
    
    --pyr-formula: '\2153\00b7\1d44f\00b2\00b7\210e';
    --pyr-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100px' height='100px' preserveAspectRatio='none' %3E%3Cpath d='M0 24 Q42 70 50 100 Q60 70 100 20 L50 0 Q25 14 0 20 Q25 26 48 40 L50 80 L52 40 L80 26 L50 37 Q28 26 10 20 L50 5 L93 20 Q58 70 50 90Q 42 70 10 30Z'/%3E%3Cellipse cx='50' cy='19' rx='6' ry='2.5'/%3E%3C/svg%3E");
}
a-rea::before,
v-olm::before { content: var(--varval); font-size: 1.5em; }
a-rea::after,
v-olm::after { content: var(--formula); }
a-rea[data-viva-a]::before,
v-olm[data-viva-v]::before { filter: url("#viva"); }
a-rea[data-viva-formula]::after,
v-olm[data-viva-formula]::after { filter: url("#viva"); }
a-rea[data-viva],
v-olm[data-viva] { filter: url("#viva"); }
a-rea[data-viva-icon],
v-olm[data-viva-icon] { --icon-filter: url("#viva"); }
a-rea track,
v-olm track {
    position: absolute;
    height: 2ch;
    width: 2ch;
    bottom: -0.2ch;
    left: 1ch;
    transform: rotate(var(--icon-rot)) scale(var(--icon-scale));
    background-repeat: no-repeat;
    background-size: 100% 100%;
    background-image: var(--icon);
    filter: var(--icon-filter);
}
a-rea[data-cirk], a-rea[data-circle] {
    --formula: '= ' var(--cirk-formula);
    --icon: var(--cirk-icon);
}
a-rea[data-tri], a-rea[data-triangle] {
    --formula: '= ' var(--tri-formula);
    --icon: var(--tri-icon);
}
a-rea[data-tri][data-right],
a-rea[data-tri][data-opt1] { --icon: var(--tri-icon-right); }
a-rea[data-tri][data-scalene],
a-rea[data-tri][data-opt2] { --icon: var(--tri-icon-scalene);}
a-rea[data-rect], a-rea[data-rectangle] {
    --formula: '= ' var(--rect-formula);
    --icon: var(--rect-icon);
}
a-rea[data-skwr], a-rea[data-square] {
    --formula: '= ' var(--square-formula);
    --icon: var(--square-icon);
}
a-rea[data-trap], a-rea[data-trapezoid] {
    --formula: '= ' var(--trap-formula);
    --icon: var(--trap-icon);
}
a-rea[data-para], a-rea[data-parallelogram] {
    --formula: '= ' var(--para-formula);
    --icon: var(--para-icon);
}
a-rea[data-lips], a-rea[data-ellipse] {
    --formula: '= ' var(--lips-formula);
    --icon: var(--lips-icon);
}
a-rea[data-flip] track,
v-olm[data-flip] track { --icon-scale: -1, 1; }
a-rea[data-turn] track,
v-olm[data-turn] track { --icon-rot:  180deg; }
a-rea[data-big]  track,
v-olm[data-big]  track { --icon-scale:  2, 2; }
v-olm[data-sphere] {
    --formula: '= ' var(--sphere-formula);
    --icon: var(--sphere-icon);
}
v-olm[data-cube] {
    --formula: '= ' var(--cube-formula);
    --icon: var(--cube-icon);
    --icon-rot: -10deg;
}
v-olm[data-cone] {
    --formula: '= ' var(--cone-formula);
    --icon: var(--cone-icon);
    --icon-rot: -10deg;
}
v-olm[data-box] {
    --formula: '= ' var(--box-formula);
    --icon: var(--box-icon);
    --icon-rot: -10deg;
}
v-olm[data-cyl], v-olm[data-cylinder] {
    --formula: '= ' var(--cyl-formula);
    --icon: var(--cyl-icon);
    --icon-rot: -10deg;
}
v-olm[data-pyr], v-olm[data-pyramid] {
    --formula: '= ' var(--pyr-formula);
    --icon: var(--pyr-icon);
    --icon-rot: -10deg;
}
a-rea[data-no-form], a-rea[data-no-formula],
v-olm[data-no-form], v-olm[data-no-formula] {
    --formula: '';
    margin-right: 1ch;
}
a-rea[data-prime], v-olm[data-prime] {
    --varval: var(--letter) '\00a0\2032';
}


p-t::after {
    content: "\00b7";
    font-size: 0.8em;
    color: var(--lightness);
}
n-t::after {
    content: "\00b7";
    font-size: 0.8em;
}
g-t::after {
    content: "\00b7";
    font-size: 0.8em;
    color: rgba(0,0,0,0);
    text-shadow: var(--text-ghost);
    xfilter: url("#viva");
}
v-t::after {
    content: "\00b7";
    font-size: 0.8em;
    filter: url("#viva");
}
t-t::before {
    content: "\00d7";
}
p-m::before {
    content: "\00b1";
    font-size: 0.6em;
    vertical-align:20%;
}
p-m[data-viva]::before { filter: url("#viva"); }
i-mp::before {
    content: "\21d2";
    font-size: 0.6em;
    filter: url("#viva");
}
i-mp::after {
    content: '\00a0\00a0';
    font-size: 0.6em;
}
i-mp[data-dark]::before { filter: none; }

d-dx, dy-dx, dz-dx, dz-dy {
    --dd-top: 'd';
    --dd-bottom: 'dx';
    display: inline-grid;
    grid-template-columns: 1fr;
    grid-template-rows: 1fr;
    font-size: 0.4em;
    vertical-align: 90%;
    text-align: center;
    font-style: italic;
    
}
dy-dx {
    --dd-top: 'dy';
    --dd-bottom: 'dx';
}
dz-dx {
    --dd-top: 'dz';
    --dd-bottom: 'dx';
}
dz-dy {
    --dd-top: 'dz';
    --dd-bottom: 'dy';
}

d-dx::before, dy-dx::before, dz-dx::before, dz-dy::before
{
    content: '\00a0 ' var(--dd-top) '\00a0';
    border-bottom: 1px solid;
}

d-dx::after, dy-dx::after, dz-dx::after, dz-dy::after
{ content: var(--dd-bottom); }

d-dx[data-viva], dy-dx[data-viva],
dz-dx[data-viva], dz-dy[data-viva] { filter: url("#viva"); }

d-dx[data-cank],
dy-dx[data-cank],
dz-dx[data-cank],
dz-dy[data-cank] {
    background-repeat: no-repeat;
    background-size: 100% 100%;
    background-image: var(--cank-00);
    filter: url("#viva");
}

d-dx[data-ghost],
dy-dx[data-ghost],
dz-dx[data-ghost],
dz-dy[data-ghost] { filter: url("#ghost"); }

d-dx[data-vapor],
dy-dx[data-vapor],
dz-dx[data-vapor],
dz-dx[data-vapor] { filter: url("#vapor"); }


s-tar {
    --star-filter: url("#viva");
    position:relative;
    word-spacing: -0.04em;
}
s-tar::before, s-tar::after {
    content:'\2606';
    padding: 3px;
    vertical-align: 60%;
    font-size:0.4em;
    filter: var(--star-filter);
}
s-tar[data-dark] { --star-filter: url("#lightness"); }
    

c-ank, r-dux {
    --rdux-high: 80%;
    --rdux-wide: 120%;
    --rdux-top: 60%;
    --rdux-left: 70%;
    --rdux-trans: none;
    --rdux-slash: var(--cank-00);
    --rdux-filter: url("#viva");
    --rdux-filter-to: url("#lil-viva");
    position: relative;
}
c-ank::after, r-dux::after {
    content: '';
    position: absolute;
    height: var(--rdux-high);
    width: var(--rdux-wide);
    bottom: 4px;
    left: calc((100% - var(--rdux-wide))/2);
    transform: var(--rdux-trans);
    background-size: 100% 100%;
    background-image: var(--rdux-slash);
    filter: var(--rdux-filter);
}
r-dux > b:nth-of-type(1) {
    position: absolute;
    top: var(--rdux-top);
    left: var(--rdux-left);
    font-family: "Luckiest Guy";
    font-size: 0.4em;
    text-align: left;
    white-space: nowrap;
    word-spacing: -0.15em;
    filter: var(--rdux-filter-to);
    transform: rotate(-14deg);
}
f-rak r-dux > b:nth-of-type(1) { font-size: 0.7em; }
c-ank[data-dark], r-dux[data-dark] {
    --rdux-filter: url("#lightness");
    --rdux-filter-to: url("#lightness");
}
r-dux[data-norm] > b:nth-of-type(1) {
    font-family: inherit;
    transform: none;
}
r-dux[data-viva-to] { --rdux-filter: url("#lightness"); }
c-ank[data-opt1], r-dux[data-opt1] {
    --rdux-slash: var(--cank-01);
}
c-ank[data-opt2], r-dux[data-opt2] {
    --rdux-slash: var(--cank-02);
}
r-dux[data-cirk] { --rdux-slash: var(--cirk-02); }
c-ank[data-hi], r-dux[data-hi] { --rdux-high: 100%; }
r-dux[data-top] { --rdux-top: -20%; }

q-fak {
    --qfak-var: 'x';
    --qfak-filter: url("#lil-viva");
    position: relative;
    font-weight: bold;
    color: rgba(0,0,0,0);
    text-shadow: var(--text-ghost);
}
q-fak::before {
    content: '(' var(--qfak-var) '\00a0\00b1\00a0?)\00a0(' var(--qfak-var) '\00a0\00b1\00a0?)';
    position: absolute;
    left: -50%;
    bottom: -15%;
    width: 200%;
    font-size: 0.6em;
    text-align: center;
    text-shadow: none;
    white-space: nowrap;
    color: var(--lightness);
    filter: var(--qfak-filter);
}
q-fak[data-dark] { --qfak-filter: url("#lightness"); }
q-fak[data-n] { --qfak-var: 'n'; }
q-fak[data-q] { --qfak-var: 'q'; }
q-fak[data-x] { --qfak-var: 'x'; }
q-fak[data-y] { --qfak-var: 'y'; }
q-fak[data-z] { --qfak-var: 'z'; }

g-ood { --good-filter: url("#viva"); }
g-ood::before, g-ood::after {
    content: '';
    display: inline-block;
    vertical-align: -20%;
    height: 2ch;
    width: 2ch;
    color: var(--lightness);
    background-size: 100% 100%;
    background-repeat: no-repeat;
    background-image: var(--good-00);
    filter: var(--good-filter);
}
g-ood::before { visibility: hidden; }
g-ood::after { visibility: visible; }
g-ood[data-left]::before { visibility: visible; }
g-ood[data-left]::after { visibility: hidden; }
g-ood[data-dark] { --good-filter: url("#lightness"); }


f-x { --name: '\1d453'; --var: 'x'; --close: ') '; }
g-x { --name: '\1d454'; --var: 'x'; --close: ') '; }
h-x { --name: '\210e';  --var: 'x'; --close: ') '; }
f-x::before, g-x::before, h-x::before {
    content: var(--name) '(' var(--var) var(--close);
}
f-x[data-viva]::before,
g-x[data-viva]::before,
h-x[data-viva]::before { filter: url("#viva"); }
f-x[data-viva-all],
g-x[data-viva-all],
h-x[data-viva-all] { filter: url("#viva"); }
[data-eq] { --close: ') = '; }
[data-var-n] { --var: 'n'; }
[data-var-q] { --var: 'q'; }
[data-var-y] { --var: 'y'; }
[data-var-z] { --var: 'z'; }


f-ogx {
    --fog1 : '\1d453';
    --fog2 : '\1d454';
    --filter: none;
}
g-ohx {
    --fog1 : '\1d454';
    --fog2 : '\210e';
    --filter: none;
}
f-ogx::before, g-ohx::before {
    content: var(--fog1) '\2218' var(--fog2) '(';
    filter: var(--filter);
}
f-ogx::after, g-ohx::after {
    content: ')'; filter: var(--filter);
}
f-ogx[data-viva], g-ohx[data-viva] { --filter: url("#viva"); }

n-add, n-min, n-tim, n-div, n-ote, n-pad {
    --note-rot: -10deg;
    --note-top: 0px;
    --note-left: 0px;
    display: inline-block;
    font-size: 0.8em;
    font-family: "Luckiest Guy";
    transform: rotate(var(--note-rot));
    filter: url("#viva");
    z-index: 10;
}
n-ote {
    font-size: 0.3em;
    margin-top: 10px;
    vertical-align: top;
    word-spacing: -0.1em;
    filter: url("#lil-viva");
}
n-pad {
    width: 3ch;
    margin-right: -3.5ch;
    white-space: nowrap;
    overflow: visible;
}
n-add::before {
    content: '+';
    font-size: 0.5em;
    vertical-align: 50%;
}
n-min::before{
    content: '-';
    font-size: 0.5em;
    vertical-align: 50%;
}
n-tim::before {
    content: '\00d7';
    font-size: 0.5em;
    vertical-align: 50%;
}
n-div::before {
    content: '\00f7';
    font-size: 0.5em;
    vertical-align: 50%;
}
n-add[data-dark],
n-min[data-dark],
n-tim[data-dark],
n-div[data-dark],
n-ote[data-dark],
n-pad[data-dark] { filter: none; }

c-irk{
    --cirk-wide: calc(100% + 1ch);
    --cirk-high: 100%;
    --cirk-top: 0%;
    --cirk-left: 0;
    --cirk-rot: 0deg;
    --cirk-flip: 1;
    --cirk-turn: 0;
    --cirk-filter: url("#viva");
    --cirk-filter-lil: url("#lil-viva");
    --cirk-shape: var(--cirk-00);
    position: relative;
    z-index: 10;
}
c-irk::before {
    content: '';
    position: absolute;
    display: inline-block;
    width: var(--cirk-wide);
    height: var(--cirk-high);
    left: calc((100% - var(--cirk-wide))/2);
    top: calc(var(--cirk-top) + (100% - var(--cirk-high))/2);
    transform:
        rotate(
            calc(180deg * var(--cirk-turn) + var(--cirk-rot))
        )
        scale(var(--cirk-flip), 1);
    background-image: var(--cirk-shape);
    background-repeat: no-repeat;
    background-size: 100% 100%;
    filter: var(--cirk-filter);
}
c-irk[data-dark] {
    --cirk-filter: url("#lightness");
    --cirk-filter-lil: url("#lightness");
}
c-irk[data-blank] { color: rgba(0,0,0,0);}
c-irk[data-vers] {
    --cirk-filter: url("#vers");
    --cirk-filter-lil: url("#vers");
}
c-irk[data-flip] { --cirk-flip: -1; }
c-irk[data-turn] { --cirk-turn: 1; }
c-irk[data-big] {
    --cirk-wide: calc(200% + 1ch);
    --cirk-high: 200%;
}
c-irk[data-opt1]::before { --cirk-shape: var(--cirk-01); }
c-irk[data-opt2]::before { --cirk-shape: var(--cirk-02); }
c-irk[data-opt3]::before { --cirk-shape: var(--cirk-03); }
c-irk > n-ote {
    position: absolute;
    top: -40%;
    left: 80%;
    font-size: 0.4em;
    text-align: left;
    white-space: nowrap;
    word-spacing: -0.15em;
    transform: rotate(-14deg);
    word-spacing: -0.1em;
    filter: var(--cirk-filter-lil);
}
c-irk[data-norm] > n-ote {
    font-family: inherit;
    transform: none;
}

p-owr {
    --powr-filter: url("#lil-viva");
    position: relative;
    margin-right: 1ch;
    margin-left: 1ch;
}
p-owr::before, p-owr::after {
    content: '';
    position: absolute;
    height: 100%;
    bottom: 0;
}
p-owr::before {
    width: calc(100% + 7px);
    left: -7px;
    background-size: 100% 100%;
    background-image: var(--powr-arc);
    filter: var(--powr-filter);
}
p-owr::after {
    width: 10px;
    height: 10px;
    top: 50%;
    right: calc(100% + 1px);
    background-size: 100% 100%;
    background-image: var(--powr-dot);
    filter: var(--powr-filter);
}
p-owr > sup {
    --powr-filter: url("#viva");
    position: absolute;
    margin-right: 200%;
    padding: 0px 5px;
    left: 100%;
    transform: rotate(-2deg);
}
p-owr > sup::before {
    content: '';
    position: absolute;
    height: 100%;
    width: 100%;
    top: 0px;
    left: 0px;
    background-size: 100% 100%;
    background-image: var(--cirk-02);
    filter: var(--powr-filter);
}
p-owr > sup::after {
    content: '-1';
    position: absolute;
    font-size: 0.5em;
    font-family: "Luckiest Guy";
    top: 0;
    left: calc(100% + 2px);
    transform: rotate(-15deg);
    filter: var(--powr-filter);
}
p-owr[data-dark] { --powr-filter: url("#lightness"); }
p-owr[data-dark] > sup { --powr-filter: url("#lightness"); }
p-owr[data-ghost] { --powr-filter: url("#ghost"); }
p-owr[data-ghost] > sup { --powr-filter: url("#ghost"); }
p-owr[data-margin2] { margin-right: 2ch; }
p-owr[data-margin3] { margin-right: 3ch; }
p-owr[data-margin4] { margin-right: 4ch; }
p-owr[data-opt1] > sup::before {
    background-image: var(--cirk-00);
}
p-owr[data-opt2] > sup::before {
    background-image: var(--cirk-01);
}

i-pow {
    
    --ipow-filter: url("#viva");
    --ipow-rot: -5deg;
    
    position: relative;
    display: inline-block;
    margin-bottom: 1em;
    
}
i-pow::before, i-pow::after {
    
    content: '';
    position: absolute;
    height: calc(100% + 0px);
    
}
i-pow::before {
    
    width: calc(50% + 4px);
    height: calc(100% + 20px);
    left: 50%;
    background-size: 100% 100%;
    background-image: var(--ipow-arc);
    filter: var(--ipow-filter);
    
    xborder: 1px solid;
    
}
i-pow::after {
    
    width: calc(100% + 8px);
    height: 5px;
    bottom: 2px;
    right: 8px;
    background-size: 100% 100%;
    background-image: var(--ipow-divline);
    filter: var(--ipow-filter);
    transform: rotate(var(--ipow-rot));

}
i-pow > sup {
    
    --ipow-filter: url("#viva");
    position: relative;
    margin-left: 5px;
    
}
i-pow > sup::before {
    
    content: '';
    position: absolute;
    height: 100%;
    width: 120%;
    top: 0%;
    left: -10%;
    background-size: 100% 100%;
    background-image: var(--cirk-02);
    filter: var(--ipow-filter);
    
}
i-pow > sup::after {
    
    content: '+1';
    position: absolute;
    font-size: 0.5em;
    font-family: "Luckiest Guy";
    top: 0;
    left: calc(100% + 2px);
    transform: rotate(-15deg);
    filter: var(--ipow-filter);
    
}
i-pow[data-dark],
i-pow[data-dark] > sup {
    --ipow-filter: url("#lightness");
}

i-teg {
        
    --iteg-filter-sigma: none;
    --iteg-filter-from: none;
    --iteg-filter-to: none;
    --iteg-filter-diff: none;
    
    position: relative;
    margin-left: 0.5em;
    
}
i-teg::before {
    
    content: '\222b';
    position: absolute;
    height: 100%;
    width: 20%;
    line-height: 1em;
    left: -0.7em;
    font-size: 1em;
    transform:scale(1.3,2);
    filter: var(--iteg-filter-sigma);
    
}
i-teg > :nth-child(2) {
    position: relative;
    font-size: 0.8em;
    font-style: italic;
    letter-spacing: -0.3ch;
    filter: var(--iteg-filter-diff);
}
i-teg > :nth-child(3) {
    position: absolute;
    font-size: 0.4em;
    top: calc(100% + 1em);
    left: -1.2em;
    filter: var(--iteg-filter-from);
}
i-teg > :nth-child(4) {
    position: absolute;
    font-size: 0.4em;
    bottom: calc(100% + 0.5em);
    left: -0.5em;
    filter: var(--iteg-filter-to);
}
i-teg[data-viva] {
    --iteg-filter-sigma: url("#viva");
    --iteg-filter-from: url("#viva");
    --iteg-filter-to: url("#viva");
    --iteg-filter-diff: url("#viva");
}
i-teg[data-viva-sigma] {
    --iteg-filter-sigma: url("#viva");
}
i-teg[data-viva-from] {
    --iteg-filter-from: url("#viva");
}
i-teg[data-viva-to] {
    --iteg-filter-to: url("#viva");
}
i-teg[data-viva-diff] {
    --iteg-filter-diff: url("#viva");
}
i-teg[data-cank],
i-teg[data-ghost] {
    
    --iteg-filter-sigma: url("#outline");
    --iteg-filter-from: url("#outline");
    --iteg-filter-to: url("#outline");
    --iteg-filter-diff: url("#outline");
    
}
i-teg[data-cank]::after {
    content: '';
    position: absolute;
    padding: 10px;
    height: 100%;
    width: 1ch;
    left: -2ch;
    background-image: var(--cank-sigma-00);
    background-repeat: no-repeat;
    background-size: 100% 100%;
    transform:scale(1.3,2);
    filter: url("#viva");
    
}
i-teg[data-vapor] {
    --iteg-filter-sigma: url("#vapor");
    --iteg-filter-from: url("#vapor");
    --iteg-filter-to: url("#vapor");
    --iteg-filter-diff: url("#vapor");
}
i-teg[data-iprt] {
    --iprt-filter-u: url("#viva");
    --iprt-filter-v: url("#vers");
    position: relative;
}
i-teg[data-iprt] > :first-child > u-u {
    position: relative;
}
i-teg[data-iprt] > :first-child > u-u::before {
    content: '';
    position: absolute;
    height: 100%;
    width: 100%;
    background-size: 100% 100%;
    background-image: var(--cirk-02);
    filter: var(--iprt-filter-u);
    
}
i-teg[data-iprt] > :first-child > u-u::after {
    content: 'u =';
    position: absolute;
    height: 100%;
    width: 2ch;
    top: -4px;
    left: -8px;
    font-size: 0.4em;
    font-family: "Luckiest Guy";
    word-spacing: -0.2em;
    text-align: left;
    transform: rotate(-15deg);
    filter: var(--iprt-filter-u);
    
}
i-teg[data-iprt] > :first-child > v-v {
    position: relative;
}
i-teg[data-iprt] > :first-child > v-v::before {
    content: '';
    position: absolute;
    height: 100%;
    width: 100%;
    background-size: 100% 100%;
    background-image: var(--cirk-00);
    filter: var(--iprt-filter-v);
    
}
i-teg[data-iprt] > :first-child > v-v::after {
    content: 'v\' =';
    position: absolute;
    height: 100%;
    width: 2ch;
    top: -4px;
    left: -8px;
    font-size: 0.4em;
    font-family: "Luckiest Guy";
    word-spacing: -0.2em;
    color: var(--inverse);
    text-align: left;
    transform: rotate(-15deg);
    filter: var(--iprt-filter-v);
    
}
i-teg[data-iprt][data-dark] {
    --iprt-filter-u: url("#lightness");
    --iprt-filter-v: url("#inverse");
}

uv-table {
    
    --uv-color-u: var(--lightness);
    --uv-color-v: var(--inverse);
    --uv-filter-u: url("#viva");
    --uv-filter-v: url("#vers");
    --uv-table-msg0: 'find derivative of u & integral of v\'';
    --uv-table-msg1: 'plug values in to the formula';
    
    position: relative;
    display: inline-grid;
    grid-template-columns: 1fr 1fr;
    grid-template-rows: 1fr 1fr;
    grid-column-gap: 80px;
    font-size: 0.8em;
    vertical-align: 68%;
    margin-bottom: 20px;
    
}
uv-table::before {
    content: '';
    position: absolute;
    height: 50%;
    width: 100%;
    left: 0;
    bottom: 0;
    border-top: 1px solid var(--greyness);
    
}
uv-table::after {
    content: 'uv\00a0-\00a0\222bvu\'';
    position: absolute;
    width: 100%;
    padding: 0px 2px;
    top: calc(100% + 15px);
    font-size: 0.4em;
    font-style: italic;
    font-weight: bold;
    color: var(--greyness);
    border: 1px solid;
    filter: url("#greyness");
    
}
uv-table:hover::after {
    content: var(--uv-table-msg1);
    padding: 0px 2px;
    filter: url("#lil-viva");
}
uv-table > b {
    
    position: relative;
    text-align: center;
    
}
uv-table > b::before {
    
    left: 0;
    padding-right: 5px;
    top: 40%;
    font-size: 0.6em;
    font-family: "Luckiest Guy";
    text-align: left;
    font-style: normal;
    
}
uv-table > b:nth-child(1),
uv-table > b:nth-child(2) {
    color: var(--lightness);
}
uv-table > b:nth-child(3),
uv-table > b:nth-child(4) {
    color: var(--inverse);
}
uv-table > b:nth-child(1)::before {
    content: 'u=';
}
uv-table > b:nth-child(1)::after {
    
    content: '\27ff';
    position: absolute;
    width: 80px;
    right: -80px;
    font-style: normal;
    text-align: left;
    
    filter: var(--uv-filter-u);
    
}
uv-table[data-empty] {
    grid-column-gap: 10px;
}
uv-table[data-empty] > b:nth-child(1)::after {
    display: none;
}
uv-table[data-empty]:hover::after {
    content: var(--uv-table-msg0);
}
uv-table > b:nth-child(2)::before {
    content: 'u\'=';
    color: var(--uv-color-u);
}
uv-table[data-empty] > b:nth-child(2) {
    color: rgba(0,0,0,0);
    letter-spacing: -1ch;
    border-bottom: 1px solid var(--greyness);
}
uv-table[data-empty] > b:nth-child(2)::before {
    content: 'u\'= ???';
    letter-spacing: normal;
    filter: var(--uv-filter-u);
}
uv-table:not([data-empty]) > b:nth-child(2)::after {
    
    content: '';
    position: absolute;
    width: 120%;
    height: 100%;
    left: 0;
    background-size: 100% 100%;
    background-image: var(--cirk-01);
    filter: var(--uv-filter-u);
    transform: rotate(357deg);
    
}
uv-table > b:nth-child(3)::before {
    content: 'v=';
    color: var(--uv-color-v);
}
uv-table[data-empty] > b:nth-child(3)::before {
    content: 'v= ???';
    letter-spacing: normal;
    
}
uv-table[data-empty] > b:nth-child(3) {
    color: rgba(0,0,0,0);
    letter-spacing: -1ch;
}
uv-table[data-empty] > b:nth-child(3)::before {
    filter: var(--uv-filter-v);
}
uv-table:not([data-empty]) > b:nth-child(3)::after {
    
    content: '';
    position: absolute;
    width: 110%;
    height: 100%;
    left: 0;
    background-size: 100% 100%;
    background-image: var(--cirk-03);
    filter: var(--uv-filter-v);
    transform: rotate(357deg);
    
}
uv-table > b:nth-child(4)::before {
    content: 'v\'=';
}
uv-table > b:nth-child(4)::after {
    
    content: '\21dc\00a0';
    position: absolute;
    width: 80px;
    left: -80px;
    font-style: normal;
    text-align: right;
    filter: var(--uv-filter-v);

}
uv-table[data-empty] > b:nth-child(4)::after {
    display: none;
}

by-parts {
    --by-parts-filter: url("#viva");
    position: relative;
    font-size: 0.7em;
}
by-parts > :nth-child(1),
by-parts > :nth-child(4) {
    color: var(--lightness);
}
by-parts > :nth-child(2),
by-parts > :nth-child(3) {
    color: var(--inverse);
}
by-parts > :nth-child(1)::after {
    content: '\00a0\00b7';
    filter: var(--by-parts-filter);
}
by-parts > :nth-child(2)::after {
    content: '\00a0\-';
    filter: var(--by-parts-filter);
}
by-parts > :nth-child(3)::before {
    content: '\222b';
    margin-right: 0.5ch;
    font-size: 1.2em;
    filter: var(--by-parts-filter);
    
}
by-parts > :nth-child(4)::before {
    content: '\00b7\00a0';
    filter: var(--by-parts-filter);
}
by-parts[data-dark] {
    --by-parts-filter: url("#greyness");
}

e-kwa {
    position: relative;
    display: inline-grid;
    grid-template-columns: 1fr;
    grid-template-rows: 1fr;
}
e-kwa > b {
    grid-column: 1;
    grid-row: 1;
}
e-kwa > b:nth-of-type(1) {
    font-weight: bold;
    color: rgba(0,0,0,0);
    text-shadow: var(--text-ghost);
}
e-kwa > b:nth-of-type(2) {
    font-size: 0.8em;
    font-family: "Luckiest Guy";
    word-spacing: -0.2em;
    color: var(--lightness);
    filter: url("#viva");
    transform: translate(0, 50%) rotate(-10deg);
}
e-kwa[data-norm] > b:nth-of-type(1) {
    display: inline-block;
    font-size: 125%;
    text-shadow: var(--text-vapor);
}
e-kwa[data-norm] > b:nth-of-type(2) {
    font-size: 1em;
    top: 20%;
    font-family: inherit;
    transform: none;
}
e-kwa[data-dark] > b:nth-of-type(2) { filter: none; }

i-fak {
    --ifak-top : 63%;
    position: relative;
    display: inline-grid;
    grid-template-columns: 1fr;
    grid-template-rows: 1fr;
}
i-fak > b {
    grid-column: 1;
    grid-row: 1;
}
i-fak > b:nth-of-type(1) {
    font-weight: bold;
    color: rgba(0,0,0,0);
    text-shadow: var(--text-ghost);
}
i-fak > b:nth-of-type(2) {
    font-size: 0.4em;
    font-family: "Luckiest Guy";
    word-spacing: 0.4em;
    color: var(--lightness);
    filter: url("#viva");
    top: var(--ifak-top);
}
i-fak[data-dark] > b:nth-of-type(2) { filter: none; }
i-fak[data-vapor] > b:nth-of-type(1) {
    color: rgba(0,0,0,0);
    text-shadow: var(--text-vapor);
    filter: none;
}
i-fak > b:nth-of-type(2) > c-irk { --cirk-top: -10%; }

i-arc {
    --iarc-filter: url("#viva");
    position: relative;
    display: inline-block;
    /*border: 1px solid #900;*/
}
i-arc::before { content: '('; }
i-arc::after { content: ')'; }
i-arc > svg {
    position: absolute;
    height: 50%;
    width: 100%;
    bottom: 90%;
    filter: var(--iarc-filter);
    /*border: 1px solid #090;*/
}
i-arc[data-dark] { --iarc-filter: url("#lightness"); }
i-arc[data-dark] + .iarc-fakt { filter: url("#lightness"); }
i-arc[data-dark] c-irk { --cirk-filter: url("#lightness"); }
i-arc[data-no-prens] {
    margin-left: 0.5ch;
    margin-right:0.5ch;
}
i-arc[data-no-prens]::after,
i-arc[data-no-prens]::before {
    content: '';
}
i-arc[data-blank] c-irk { color: rgba(0, 0, 0, 0); }
.iarc-fakt {
    display: inline-block;
    margin: 0ch 0.5ch;
    font-family: "Luckiest Guy";
    font-size: 0.6em;
    transform: translate(0, -30%) rotate(-10deg);
    filter: url("#viva");
}
.iarc-dist {
    color: rgba(0,0,0,0);
    text-shadow: var(--text-ghost);
}
.iarc-dist-lil {
    display: inline-block;
    font-family: "Luckiest Guy";
    font-size: 0.4em;
    transform: translate(0, -100%) rotate(-10deg);
    filter: var(--iarc-filter);
}


k-wad {
    --kwad-var: 'x';
    position: relative;
    display: inline-block;
}
k-wad::after {
    
    content: '';
    position: absolute;
    visibility: hidden;
    width: calc(100% - 1ch);
    height: 60%;
    left: 0.5ch;
    bottom: 90%;
    background-size: 100% 100%;
    background-image: var(--kwad-arc);
    filter: url("#viva");
    
}
k-wad > b:nth-of-type(4) {
    
    position: absolute;
    display: none;
    visibility: hidden;
    height: 100%;
    width: 100%;
    left: 0;
    bottom: 70%;
    font-size: 0.6em;
    font-family: "Luckiest Guy";
    transform: rotate(-5deg);
    filter: url("#viva");
}
k-wad > i-fak {
    
    position: absolute;
    display: none;
    visibility: hidden;
    width: 100%;
    height: 100%;
    left: 0;
    bottom: 100%;
    
}

k-wad[data-step1] > b:nth-of-type(1)::before,
k-wad[data-step1] > b:nth-of-type(3)::before {
    
    content: '';
    position: absolute;
    height: 100%;
    width: calc(100% + 10px);
    top: 0;
    left: -5px;
    background-size: 100% 100%;
    filter: url("#viva");
    
}
k-wad[data-step1] > b:nth-of-type(1)::before {
    background-image: var(--cirk-00);
}
k-wad[data-step1] > b:nth-of-type(3)::before {
    background-image: var(--cirk-03);
}

k-wad[data-step2] {
    margin-top: 0.5em;
}
k-wad[data-step2]::after {
    visibility: visible;
}
k-wad[data-step2] > b:nth-of-type(4) {
    display: inline;
    visibility: visible;
}

k-wad[data-step3] {
    margin-top: 0.5em;
}
k-wad[data-step3]::after {
    visibility: visible;
    filter: url("#lightness");
}
k-wad[data-step3] > b:nth-of-type(4) {
    visibility: visible;
    display: inline;
    filter: url("#vapor");
}
k-wad[data-step3] > i-fak {
    visibility: visible;
    display: inline-grid;
}
k-wad[data-step3] > i-fak > b:nth-of-type(1) {
    font-size: 0.8em;
    text-shadow: none;
    color: var(--lightness);
    filter: url("#lil-viva");
}
k-wad[data-step3] > i-fak > b:nth-of-type(1)::before {
    content: '=';
    font-size: 0.7em;
}
k-wad[data-step3] > i-fak > b:nth-of-type(2) {
    visibility: hidden;
}

k-wad[data-step4] {
    margin-top: 0.7em;
}
k-wad[data-step4]::after {
    visibility: visible;
    filter: url("#vapor");
}
k-wad[data-step4] > i-fak {
    visibility: visible;
    display: inline-grid;
}
k-wad[data-step4] > i-fak > b:nth-of-type(1) {
    opacity: 0.5;
}
k-wad[data-step4] > i-fak > b:nth-of-type(2) {
    font-size: 0.4em;
    width: 200%;
    left: -50%;
    text-align: center;
    white-space: nowrap;
    overflow: visible;
}

k-wad[data-step5] {
    margin-top: 0.7em;
    color: var(--midness);
}
k-wad[data-step5] > b:nth-of-type(2) {
    color: var(--whiteness);
}
k-wad[data-step5] > b:nth-of-type(2)::before {
    content: '';
    position: absolute;
    height: 100%;
    width: calc(100% + 10px);
    left: -5px;
    top: 0;
    background-size: 100% 100%;
    background-image: var(--cirk-01);
    filter: url("#vers");
    transform: rotate(10deg);
}
k-wad[data-step5] > b:nth-of-type(2)::after {
    content: '?=';
    position: absolute;
    top: 10%;
    left: -1.2ch;
    font-size: 0.6em;
    font-family: "Luckiest Guy";
    text-align: center;
    white-space: nowrap;
    color: var(--inverse);
    filter: url("#vers");
    transform: rotate(-10deg);
}
k-wad[data-step5] > i-fak {
    visibility: visible;
    display: inline-grid;
}
k-wad[data-step5] > i-fak > b:nth-of-type(1) {
    opacity: 0.3;
}
k-wad[data-step5] > i-fak > b:nth-of-type(2) {
    font-size: 0.6em;
    width: 200%;
    top: 25%;
    left: -50%;
    text-align: center;
    white-space: nowrap;
    filter: none;
    overflow: visible;
}

k-wad[data-step6] {
    margin-top: 0.7em;
    color: var(--darkness);
}
k-wad[data-step6] > b:nth-of-type(2) {
    color: var(--inverse);
}
k-wad[data-step6] > b:nth-of-type(2)::after {
    content: '=';
    position: absolute;
    top: 10%;
    left: -1.4ch;
    font-size: 0.4em;
    font-family: inherit;
    text-align: center;
    white-space: nowrap;
    color: var(--inverse);
    transform: rotate(-10deg);
}
k-wad[data-step6] > i-fak {
    visibility: visible;
    display: inline-grid;
}
k-wad[data-step6] > i-fak > b:nth-of-type(1) {
    font-size: 0.5;
    opacity: 0.5;
}
k-wad[data-step6] > i-fak > b:nth-of-type(2) {
    font-size: 0.6em;
    width: 200%;
    left: -50%;
    top: 25%;
    text-align: center;
    white-space: nowrap;
    filter: none;
    overflow: visible;
}
k-wad[data-step6] > i-fak > b:nth-of-type(2) > b {
    padding: 5px;
}
k-wad[data-step6] > i-fak > b:nth-of-type(2) > b::after {
    content: '';
    position: absolute;
    height: 100%;
    width: 100%;
    top: 0;
    left: 0;
    background-repeat: no-repeat;
    background-size: 100% 100%;
    background-image: var(--cirk-01);
    color: var(--lightness);
    filter: url("#viva");
}

k-wad[data-guess] {
    font-weight: bold;
    color: rgba(0,0,0,0);
    text-shadow: var(--text-ghost);
}
k-wad[data-guess]::after {
    content: '(' var(--kwad-var) '\00a0\00b1\00a0?)\00a0(' var(--kwad-var) '\00a0\00b1\00a0?)';
    position: absolute;
    left: -50%;
    bottom: -15%;
    width: 200%;
    font-size: 0.6em;
    text-align: center;
    text-shadow: none;
    white-space: nowrap;
    color: var(--lightness);
    background-image: none;
    filter: url("#viva");
    visibility: visible;
}
k-wad[data-guess] > b { font-weight: bold; }
k-wad[data-var-y] { --kwad-var: 'y'; }


r-aze {
    --raze-filter: url("#viva");
    --raze-filter-arrow: url("#lil-viva");
    position: relative;
    margin-left: 2ch;
    margin-right: 0.5ch;
}
r-aze::after {
    content: '';
    position: absolute;
    display: inline-block;
    height: 0.5em;
    width: 1ch;
    left: -0.7ch;
    top: 30%;
    background-repeat: no-repeat;
    background-size: 100% 100%;
    background-image: var(--raze-arrow);
    filter: var(--raze-filter-arrow);
}
r-aze > :nth-child(1) {
    position: absolute;
    display: inline-block;
    top: 60%;
    left: -1ch;
    font-family: "Luckiest Guy";
    transform: rotate(-12deg);
    filter: var(--raze-filter);
}
r-aze > :nth-child(2) {
    display: inline;
    font-size: 0.6em;
    vertical-align: 80%;
}
r-aze > :nth-child(2)::before {
    content: '[';
    font-weight: bold;
}
r-aze > :nth-child(2)::after {
    content: ']';
    font-weight: bold;
}
r-aze[data-dark] {
    --raze-filter: none;
    --raze-filter-arrow: url("#lightness");
}
r-aze[data-dark-value] { --raze-filter: none; }
r-aze[data-dark-arrow] {
    --raze-filter-arrow: none;
    --raze-filter-arrow: url("#lightness");
}

r-oot {
    
    --root-high: 120%;
    --root-rot: -15deg;
    --root-filter: url("#lightness");
    --root-filter-lil: none;
    
    --root-for-dark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='30px' height='100px' preserveAspectRatio='none'%3E%3Cpath d='M8 46L14 30L19 52L18 0L23 1L24 90L11 43Z' /%3E%3C/svg%3E");
    
    --root-aft-dark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100px' height='100px' preserveAspectRatio='none'%3E%3Cpath d='M0 0H 100V3L 2 7Z' /%3E%3C/svg%3E");
    
    --root-for-viva: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='30px' height='100px' preserveAspectRatio='none'%3E%3Cpath d='M8 50L12 28L24 52Q22 25 18 0L23 1Q28 45 27 90Q22 63 11 43 Z' /%3E%3C/svg%3E");
    
    --root-aft-viva: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100px' height='100px' preserveAspectRatio='none'%3E%3Cpath d='M0 0H 100L95 2L 2 7Z' /%3E%3C/svg%3E");
    
    --root-slash: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100px' height='100px' preserveAspectRatio='none' %3E%3Cpath d='M0 30L100 20L95 35L10 50Z'/%3E%3C/svg%3E");
    
    --root-for-mig: var(--root-for-dark);
    --root-aft-mig: var(--root-aft-dark);

    position: relative;
    font-size: 0.8em;
    word-spacing: -0.2em;
    margin-left: 1.5ch;
    margin-right: 0.5ch;
}
r-oot::before,
r-oot::after {
    
    content: '';
    position: absolute;
    height: var(--root-high);
    top: calc((100% - var(--root-high))/2);
    background-repeat: no-repeat;
    background-size: 100% 100%;
    filter: var(--root-filter);

}
r-oot::before {
    width: 1.2ch;
    left: -1.5ch;
    background-image: var(--root-for-mig);
}
r-oot::after {
    width: calc(100% + 1.3ch);
    left: -0.75ch;
    background-image: var(--root-aft-mig);
}
r-oot > b:nth-of-type(1) {
    
    position: absolute;
    font-size: 0.5em;
    font-weight: bold;
    top: -25%;
    right: calc(100% + 1em);
    white-space: nowrap;
    filter: var(--root-filter-lil);
    z-index: 2;
    
}
r-oot ~ sup {
    display: inline-block;
    font-size: 0.6em;
    font-family: "Luckiest Guy";
    vertical-align: 100%;
    transform: rotate(-12deg) translate(0.3ch, 0);
}
r-oot[data-viva] {
    --root-for-mig: var(--root-for-viva);
    --root-aft-mig: var(--root-aft-viva);
    --root-filter: url("#viva");
    --root-lil-filter: url("#lil-viva");
}
r-oot[data-viva] > b:nth-of-type(1) {
    
    top: -12%;
    right: calc(100% + 0.8em);
    font-family: "Luckiest Guy";
    font-weight: normal;
    filter: var(--root-lil-filter);
    transform: rotate(var(--root-rot));
    
}
r-oot ~ sup[data-viva] { filter: url("#lil-viva"); }
r-oot[data-vapor] {
    --root-for-mig: var(--root-for-viva);
    --root-aft-mig: var(--root-aft-viva);
    --root-filter: url("#vapor");
    --root-lil-filter: url("#vapor");
}
r-oot[data-vapor] > b:nth-of-type(1) {
    
    top: -12%;
    right: calc(100% + 0.8em);
    font-family: "Luckiest Guy";
    font-weight: normal;
    filter: var(--root-lil-filter);
    transform: rotate(var(--root-rot));
    
}
r-oot[data-cank] {
    --root-for-mig: var(--root-for-viva);
    --root-aft-mig: var(--root-aft-viva);
    --root-filter: url("#outline");
    --root-lil-filter: url("#lil-viva");
}
r-oot[data-cank] > b:nth-of-type(1) {
    top: -18%;
    right: calc(100% + 0.8em - 2ch);
    padding-left: 1ch;
    padding-right: 2ch;
    font-family: "Luckiest Guy";
    font-weight: normal;
    background-repeat: no-repeat;
    background-size: 100% 100%;
    background-image: var(--root-slash);
    transform: rotate(var(--root-rot));
    filter: var(--root-lil-filter);
}

fakt-left {
    
    --fakt-pos: -1ch;
    --fakt-wide: 3ch;
    --fakt-filter: url("#viva");
    --arc1-wide: 30%;
    --arc2-wide: calc(100% - 1.7ch);
    
    position: relative;
    margin-left: 0.8ch;
    
}
fakt-left::before {
    content: '';
    position: absolute;
    width: calc(-1 * var(--fakt-pos) + var(--arc2-wide));
    height: 0.6em;
    left: var(--fakt-pos);
    bottom: 90%;
    background-size: 100% 100%;
    background-image: var(--fakt-arc1);
    filter: var(--fakt-filter);
}
fakt-left::after {
    content: '';
    position: absolute;
    width: calc(-1 * var(--fakt-pos) + var(--arc1-wide));
    height: 0.3em;
    xaspect-ratio: 6 / 1;
    left: var(--fakt-pos);
    bottom: 90%;
    background-size: 100% 100%;
    background-image: var(--fakt-arc2);
    filter: var(--fakt-filter);
}
fakt-left > b:nth-child(1) {
    position: absolute;
    width: var(--fakt-wide);
    left: calc(var(--fakt-wide)/-2 + var(--fakt-pos));
    top: 20%;
    font-size: 0.5em;
    font-family: "Luckiest Guy";
    text-align: center;
    white-space: nowrap;
    overflow: visible;
    transform: rotate(-15deg);
    filter: var(--fakt-filter);
    z-index: 10;
}
fakt-left > b:nth-child(1)::before {
    content: "";
    margin-left: -500%;
}
fakt-left > b:nth-child(1)::after {
    content: "";
    margin-right: -500%;
}
fakt-left[data-dark] { --fakt-filter: url("#lightness"); }
fakt-left[data-ghost] { --fakt-filter: url("#ghost"); }
fakt-left[data-vapor] { --fakt-filter: url("#vapor"); }
fakt-left[data-norm] > b:nth-child(1) {
    font-family: inherit;
}

rite-dist {
    --arc1-wide: 51%;
    --arc2-wide: calc(100% - 1.5ch);
    --dist-left: 0.5ch;
    --dist-filter: url("#viva");
    --dist-filter-lil: url("#lil-viva");
    --dist-shade: var(--text-ghost);
    position: relative;
    display: inline-block;
    margin-top: 1em;
}
rite-dist::before {
    
    content: '';
    position: absolute;
    width: calc(var(--arc2-wide) - var(--dist-left));
    height: 25px;
    xaspect-ratio: 6 / 1;
    left: var(--dist-left);
    bottom: 90%;
    background-size: 100% 100%;
    background-image: var(--dist-arc1);
    filter: var(--dist-filter);
    
}
rite-dist::after {
    
    content: '';
    position: absolute;
    width: calc(var(--arc1-wide) - var(--dist-left));
    height: 20px;
    xaspect-ratio: 6 / 1;
    left: var(--dist-left);
    bottom: 90%;
    background-size: 100% 100%;
    background-image: var(--dist-arc2);
    filter: var(--dist-filter);
    
}
rite-dist > b:nth-child(1) {
    
    color: rgba(0,0,0,0);
    text-shadow: var(--dist-shade);
    
}
rite-dist > b:nth-child(1)::after {
    
    content: '\00a0\00b7';
    
}
rite-dist > b > b {
    
    display: inline-block;
    height: 100%;
    width: 3ch;
    font-size: 0.5em;
    font-family: "Luckiest Guy";
    text-align: center;
    white-space: nowrap;
    transform: rotate(-15deg) translate(-5px, -50%);
    filter: var(--dist-filter-lil);

}
rite-dist > b:nth-child(2) {  margin-right: -0.5ch; }
rite-dist > b:nth-child(2)::before { content: '('; }
rite-dist > b > b::before {
    content: "\00d7";
    margin-left: -500%;
}
rite-dist > b > b::after {
    content: "";
    margin-right: -500%;
}
rite-dist > b:nth-child(3)::after {
    
    content: ')';
    display: inline-block;
    transform: translate(-0.5ch,0);
    
}
rite-dist[data-dark] {
    --dist-filter: url("#lightness");
    --dist-filter-lil: url("#lightness");
}
rite-dist[data-dark] > b:nth-child(1) {
    color: var(--lightness);
    text-shadow: none;
}
rite-dist[data-norm] > b > b { font-family: inherit; }

left-dist {
    --arc1-wide: 35%;
    --arc2-wide: calc(100% - 3.75ch);
    --dist-rite: 0.5ch;
    --dist-filter: url("#viva");
    --dist-filter-lil: url("#lil-viva");
    --dist-shade: var(--text-ghost);
    position: relative;
    display: inline-block;
    margin-top: 1em;
}
left-dist::before {
    
    content: '';
    position: absolute;
    width: calc(var(--arc2-wide) - var(--dist-rite));
    height: 25px;
    xaspect-ratio: 6 / 1;
    right: var(--dist-rite);
    bottom: 90%;
    background-size: 100% 100%;
    background-image: var(--fakt-arc1);
    filter: var(--dist-filter);
    
}
left-dist::after {
    content: '';
    position: absolute;
    width: calc(var(--arc1-wide) - var(--dist-rite));
    height: 20px;
    xaspect-ratio: 6 / 1;
    right: var(--dist-rite);
    bottom: 90%;
    background-size: 100% 100%;
    background-image: var(--fakt-arc2);
    filter: var(--dist-filter);
}
left-dist > b:nth-of-type(1) { margin-right: -0.5ch; }
left-dist > b:nth-of-type(1)::before { content: '('; }
left-dist > b:nth-of-type(2)::after { content: ')'; }
left-dist > b:nth-of-type(3) {
    color: rgba(0,0,0,0);
    text-shadow: var(--dist-shade);
}
left-dist > b:nth-of-type(3)::before { content:'\00b7\00a0'; }
left-dist > b > b {
    display: inline-block;
    height: 100%;
    width: 3ch;
    font-size: 0.5em;
    font-family: "Luckiest Guy";
    text-align: center;
    white-space: nowrap;
    transform: rotate(15deg) translate(-5px, -50%);
    filter: var(--dist-filter-lil);
}
left-dist > b > b::before {
    content: "\00d7";
    margin-left: -500%;
}
left-dist > b > b::after {
    content: "";
    margin-right: -500%;
}
left-dist[data-dark] {
    --dist-filter: url("#lightness");
    --dist-filter-lil: url("#lightness");
}
left-dist[data-dark] > b:nth-of-type(3) {
    color: var(--lightness);
    text-shadow: none;
}
left-dist[data-norm] > b > b { font-family: inherit; }


left-fakt {
    --arc1-wide: 46%;
    --arc2-wide: calc(100% - 1ch);
    --fakt-left: 0.5ch;
    --fakt-filter: url("#viva");
    --fakt-filter-lil: url("#lil-viva");
    --fakt-shade: var(--text-ghost);
    position: relative;
    display: inline-block;
    margin-top: 1em;
}
left-fakt::before {
    
    content: '';
    position: absolute;
    width: calc(var(--arc2-wide) - var(--fakt-left));
    height: 25px;
    xaspect-ratio: 6 / 1;
    left: var(--fakt-left);
    bottom: 90%;
    background-size: 100% 100%;
    background-image: var(--fakt-arc1);
    filter: var(--fakt-filter);
    
}
left-fakt::after {
    
    content: '';
    position: absolute;
    width: calc(var(--arc1-wide) - var(--fakt-left));
    height: 20px;
    xaspect-ratio: 6 / 1;
    left: var(--fakt-left);
    bottom: 90%;
    background-size: 100% 100%;
    background-image: var(--fakt-arc2);
    filter: var(--fakt-filter);
    
}
left-fakt > b:nth-of-type(1) {
    display: inline-block;
    height: 100%;
    right: 0;
    font-size: 0.7em;
    font-family: "Luckiest Guy";
    text-align: center;
    white-space: nowrap;
    transform: rotate(-10deg) translate(-0px, -20%);
    filter: var(--fakt-filter-lil);
}
left-fakt[data-dark] {
    --fakt-filter: url("#lightness");
    --fakt-filter-lil: url("#lightness");
}
left-fakt[data-dark] > b:nth-of-type(1) {
    color: var(--lightness);
    text-shadow: none;
}
left-fakt[data-vapor] {
    --fakt-filter: url("#vapor");
    --fakt-filter-lil: url("#vapor");
}
left-fakt[data-vapor] > b:nth-of-type(1) {
    color: rgba(0,0,0,0);
    text-shadow: var(--text-vapor);
}
left-fakt[data-norm] > b:nth-of-type(1) {
    font-family: inherit;
    transform: none;
}

l-ogb {
    --logb-filter: none;
    --logb-filter-base: none;
    --logb-stroke: 0.7px var(--darkness);
    position: relative;
    margin-left: 4ch;
    white-space: nowrap;
}
l-ogb::before {
    content: 'log\00a0(';
    position: absolute;
    right: 100%;
    top: 0;
    filter: var(--logb-filter);
}
l-ogb::after {
    content: ')';
    right: 0;
    top: 0;
    filter: var(--logb-filter);
}
l-ogb > b:nth-child(1) {
    
    position: absolute;
    right: calc(100% + 0.4em);
    bottom: -0.4em;
    transform: rotate(-12deg);
    font-size: 0.6em;
    font-weight: bold;
    font-family: "Luckiest Guy";
    color: var(--lightness);
    filter: var(--logb-filter-base);
    -webkit-text-stroke: var(--logb-stroke);
    
}
l-ogb > b:nth-child(2) { color: var(--lightness); }
l-ogb[data-viva] {
    --logb-filter: url("#viva");
    --logb-filter-base: url("#lil-viva");
    --logb-stroke: 0px #000;
}
l-ogb[data-viva-base] {
    --logb-filter-base: url("#lil-viva");
    --logb-stroke: 0px #000;
}
l-ogb[data-ghost] {
    color: rgba(0,0,0,0);
    text-shadow: var(--text-ghost);
    --logb-filter-base: url("#ghost");
    x--logb-stroke: 3px #000;
}
l-ogb[data-ghost] > b:nth-child(1) {
    font-family: inherit;
    text-shadow: var(--text-ghost);
    color: rgba(0,0,0,0);
    --logb-stroke: 0px #000;
    filter: none;
}
l-ogb[data-ghost] > b:nth-child(2) { text-shadow: none; }
l-ogb[data-cank] {
    --logb-filter: url("#viva");
    --logb-filter-base: url("#lil-viva");
}
l-ogb[data-cank]::before {
    background-repeat: no-repeat;
    background-size: 100% 100%;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100px' height='100px' preserveAspectRatio='none' %3E%3Cpath d='M0 60L18 2L30 60L43 20L60 85Q77 70 100 55Q70 80 60 100L45 50Q34 70 32 90L17 30Z'/%3E%3C/svg%3E");
    

}
l-ogb[data-cank]::after {
    background-repeat: no-repeat;
    background-size: 100% 100%;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100px' height='100px' preserveAspectRatio='none' %3E%3Cpath d='M0 40L100 0L32 35L100 33L40 60L100 100L15 58L70 40Z'/%3E%3C/svg%3E");
}
l-ogb[data-cank] > b:nth-child(1) { color: rgba(0,0,0,0); }
l-ogb[data-arc] {
    display: inline-block;
    margin-bottom: 1em;
}
l-ogb[data-arc] > b:nth-child(1)::after {
    content: '';
    position: absolute;
    height: calc(100% + 5px);
    width: calc(100% + 10px);
    top: -8px;
    left: -5px;
    transform: rotate(12deg);
    background-repeat: no-repeat;
    background-size: 100% 100%;
    background-image: var(--cirk-02);
    filter: url("#viva");
}
l-ogb[data-arc] > b:nth-child(1)::before {
    content: '';
    position: absolute;
    height: 3em;
    width: 5em;
    bottom: -20%;
    right: 0em;
    transform: rotate(12deg);
    background-repeat: no-repeat;
    background-size: 100% 100%;
    background-image: var(--logb-arc);
    filter: url("#viva");
    z-index: -10;
}
l-ogb[data-hat] {
    display: inline-block;
    color: var(--midness);
}
l-ogb[data-hat] > b:nth-child(1)::before {
    content: '';
    position: absolute;
    height: 2em;
    width: 1.7em;
    bottom: 55%;
    right: -40%;
    transform: rotate(-15deg);
    background-repeat: no-repeat;
    background-size: 100% 100%;
    background-image: var(--logb-hat);
    filter: url("#viva");
    z-index: -10;
}

/*
g-eom {
    --geom-icon: none;
    --geom-icon-filter: url("#lightness");
    position: relative;
    display: inline-block;
    height: 2em;
    width: 2em;
}
g-eom::after {
    content: '';
    position: absolute;
    height: 100%;
    width: 100%;
    top: 0;
    left: 0;
    background-repeat: no-repeat;
    background-size: 100% 100%;
    background-image: var(--geom-icon);
    filter: var(--geom-icon-filter);
}
g-eom[data-cyl] {
    --geom-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100px' height='100px' preserveAspectRatio='none' %3E%3Cpath d='\
    M0 24 Q3 48 0 80 A50 20 0 0 0 100 80 Q90 50 97 20\
    A48 16 -1 1 0 80 30\
    A44 14 2 1 1 94 20 Q90 50 93 80 A45 20 0 0 1 4 80 Q8 54 5 30\
    Z'/%3E%3Cellipse cx='50' cy='16' rx='6' ry='2.5'/%3E%3C/svg%3E");
}
g-eom[data-cyl] r-r {
    position: absolute;
    width: 50%;
    height: 0.7em;
    left: 50%;
    bottom: 84%;
    border-width: 0px 1px;
    border-style: solid;
    border-color: ;#090;
    filter: url("#viva");
    z-index: 10;
}
g-eom[data-cyl] r-r::after {
    content: 'r';
    position: absolute;
    width: 100%;
    left: 0;
    top: -25%;
    font-size: 0.4em;
    font-style: italic;
    border-width: 0px 0px 1px 0px;
    border-style: solid;
}
g-eom[data-cyl] d-d {
    position: absolute;
    width: 100%;
    height: 1.2em;
    left: 0%;
    bottom: 80%;
    border-width: 0px 1px;
    border-style: solid;
    border-color: ;#090;
    filter: url("#viva");
    z-index: 10;
}
g-eom[data-cyl] d-d::after {
    content: 'd';
    position: absolute;
    width: 100%;
    left: 0;
    top: -15%;
    font-size: 0.4em;
    font-style: italic;
    border-width: 0px 0px 1px 0px;
    border-style: solid;
}
g-eom[data-cyl] h-h {
    position: absolute;
    width: 20%;
    height: 60%;
    right: 100%;
    bottom: 20%;
    border-width: 1px 0px;
    border-style: solid;
    border-color: ;#090;
    filter: url("#viva");
}
g-eom[data-cyl] h-h::after {
    content: 'h';
    position: absolute;
    display: flex;
    align-items: center;
    height: 100%;
    right: 50%;
    padding-right: 1ch;
    font-size: 0.4em;
    font-style:italic;
    border-width: 0px 1px 0px 0px;
    border-style: solid;
}
*/

s-in, s-in2, c-os, c-os2, t-an, t-an2,
c-sc, c-cs2, s-ec, s-ec2, c-ot, c-ot2,
s-in-1, c-os-1, t-an-1, c-sc-1, s-ec-1, c-ot-1 {
    --trig-type: '';
    --trig-var: '\03b8';
    --trig-pow: '';
    --trig-o-pren: '(';
    --trig-c-pren: ')';
}
s-in2, c-os2, t-an2, c-sc2, s-ec2, c-ot2 {
    --trig-pow: '\00b2';
}
s-in-1, c-os-1, t-an-1, c-sc-1, s-ec-1, c-ot-1 {
    --trig-pow: '\207b\00b9';
}
s-in, s-in2, s-in-1 { --trig-type: 'sin'; }
c-os, c-os2, c-os-1 { --trig-type: 'cos'; }
t-an, t-an2, t-an-1 { --trig-type: 'tan'; }
c-sc, c-sc2, c-sc-1 { --trig-type: 'csc'; }
s-ec, s-ec2, s-ec-1 { --trig-type: 'sec'; }
c-ot, c-ot2, c-ot-1 { --trig-type: 'cot'; }
s-in::after, s-in2::after, s-in-1::after,
c-os::after, c-os2::after, c-os-1::after,
t-an::after, t-an2::after, t-an-1::after,
s-ec::after, s-ec2::after, s-ec-1::after,
c-sc::after, c-sc2::after, c-sc-1::after,
c-ot::after, c-ot2::after, c-ot-1::after {
    content: var(--trig-type) var(--trig-pow) var(--trig-o-pren) var(--trig-var) var(--trig-c-pren);
}
[data-no-prens] { --trig-o-pren: ''; --trig-c-pren: ''; }

/*[data-line]*/
.svg-line {
    position: absolute;
    top: 0;
    left: 0;
    margin: 0;
    padding: 0;
    height: 20px;
    width: 20px;
    overflow: visible;
    filter: url("#viva");
    /*border: 1px solid;*/
    /*
    marker-start: url(#dot);
    marker-mid: url(#dot);
    marker-end: url(#dot);
    */
}


g-eom {
    --dimension-filter: url("#viva");
    --tank-filter: url("#vers");
    position: relative;
    display: inline-block;
    box-sizing: border-box;
    height: 100px;
    width: 100px;
    margin: 0;
    padding: 0;
    /*border: 1px solid #900;*/
    overflow: visible;
}
g-eom > * { position: absolute; }
g-eom > svg {
    position: absolute;
    height: 100%;
    width: 100%;
    margin: 0;
    padding: 0;
    top: 0;
    left: 0;
    /*border: 1px solid;*/
    fill: var(--lightness);
    overflow:visible;
}
g-eom > svg > .tanklid { fill: var(--inverse); }
g-eom > svg > .tankbody { fill: url("#grad"); }
g-eom > t-ank {
    position: relative;
    display: inline-block;
    height: 100%;
    width: 100%;
    left: 0;
    top: 0;
}

g-eom[data-viva] > svg { filter: url("#viva"); }
g-eom[data-dark] { --dimension-filter: none; }
g-eom[data-grey] { --dimension-filter: url("#greyness"); }
g-eom[data-ghost] { --dimension-filter: url("#ghost"); }
g-eom[data-vapor] { --dimension-filter: url("#vapor"); }

g-eom > t-ank[data-grey] { --tank-filter: url("#greyness"); }
g-eom > t-ank[data-ghost] { --tank-filter: url("#ghost"); }
g-eom > t-ank[data-vapor] { --tank-filter: url("#vapor"); }

g-eom > a-1, g-eom > a-2, g-eom > b-b, g-eom > h-h,
g-eom > h-yp, g-eom > w-w, g-eom > l-l {
    font-size: 0.3em;
    white-space: nowrap;
    filter: var(--dimension-filter);
    z-index: 10;
    border-color: #900;
}
g-eom > h-h {
    display: flex;
    align-items: center;
    height: 100%;
    right: 50%;
    padding-right: 1ch;
    border-width: 0px 1px 0px 0px;
    border-style: solid;
}

g-eom[data-type="tri-rite"] > b-b {
    width: 100%;
    margin-top: 0.2em;
    top: calc(100% + 10px);
    left: 0;
}
g-eom[data-type="tri-rite"] > h-h {
    position: absolute;
    display: inline-flex;
    flex-flow: column nowrap;
    justify-content: center;
    align-items: flex-start;
    vertical-align: middle;
    margin-left: 1em;
    padding-left: 0.5ch;
    height: calc(1.5 * 2.5em);
    left: 100%;
    font-size: 0.3em;
    text-align: left;
    border: none;
    filter: var(--dimension-filter);
    overflow: visible;
}
g-eom[data-type="tri-rite"] > h-yp {
    bottom: 0;
    text-align: center;
    transform-origin: 0 100%;
}



g-eom[data-type="cyl"] > r-r,
g-eom[data-type="cyl"] > t-ank r-r {
    position: absolute;
    width: 50%;
    left: 0;
    bottom: 100%;
    bottom: 20%;
    font-size: 0.3em;
    text-align: center;
    border-width: 0px 0px 1px 0px;
    border-style: solid;
    border-color: var(--lightness);
    filter: var(--dimension-filter);
    z-index: 10;
}
g-eom[data-type="cyl"] > t-ank r-r {
    left: 50%;
    width: calc(50% - 10px);
    filter: var(--tank-filter);
}
g-eom[data-type="cyl"] > r-r::after,
g-eom[data-type="cyl"] > t-ank r-r::after {
    content: '';
    position: absolute;
    box-sizing: border-box;
    height: 2em;
    width: 100%;
    padding: 0;
    margin: 0;
    left: 0;
    bottom: -1.7em;
    border-width: 0px 1px;
    border-style: solid;
}

g-eom[data-type="cyl"] > d-d,
g-eom[data-type="cyl"] > t-ank d-d {
    position: absolute;
    width: 100%;
    height: 1.4em;
    left: 0%;
    font-size: 0.3em;
    bottom: calc(100% + 1em);
    border-bottom: 1px solid;
    filter: var(--dimension-filter);
    z-index: 10;
}
g-eom[data-type="cyl"] > t-ank d-d {
    width: calc(100% - 20px);
    left: 10px;
    filter: var(--tank-filter);
}
g-eom[data-type="cyl"] > d-d::after,
g-eom[data-type="cyl"] > t-ank d-d::after {
    content: '';
    position: absolute;
    box-sizing: border-box;
    width: 100%;
    height: 4em;
    left: 0;
    top: 0em;
    border-width: 0px 1px;
    border-style: solid;
    border-color: var(--lightness);
}

g-eom[data-type="cyl"] > h-h,
g-eom[data-type="cyl"] > t-ank h-h {
    position: absolute;
    display: flex;
    align-items: center;
    height: 100%;
    right: 50%;
    padding-right: 1ch;
    font-size: 0.3em;
    font-style:italic;
    white-space: nowrap;
    border-width: 0px 1px 0px 0px;
    border-style: solid;
    filter: var(--dimension-filter);
}
g-eom[data-type="cyl"] > t-ank h-h {
    height: 50%;
    left: calc(100% + 5px);
    bottom: 15%;
    padding-left: 1ch;
    border-width: 0px 0px 0px 1px;
    filter: var(--tank-filter);
}
g-eom[data-type="cyl"] > h-h::after,
g-eom[data-type="cyl"] > t-ank h-h::after {
    content: '';
    position: absolute;
    box-sizing: border-box;
    width: 1em;
    height: calc(100%);
    left: calc(100% - 1em + 8px);
    top: 0;
    border-width: 1px 0px;
    border-style: solid;
    border-color: var(--lightness);
}
g-eom[data-type="cyl"] > t-ank h-h::after { left: -1ch; }
